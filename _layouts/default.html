<!DOCTYPE html>

<html lang="en">

{% include head.html %}

<body>
  <div id="fb-root"></div>
  <script>(function (d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>


  <!-- Google Tag Manager (noscript) -->

  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TFM8TP7" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>


  <!-- End Google Tag Manager (noscript) -->


  {% include navigation.html %}

  {{ content }}

  {% include footer.html %}

  {% include scripts/plugin.html %}




  <!-- Mailchimp hides on succesful submit-->

  <script>
    var mc1Submitted = false;
    jQuery('#mc-embedded-subscribe-form').on('submit reset', function (event) {
      console.log(event);
      if ("submit" === event.type) {
        mc1Submitted = true;
      } else if ("reset" === event.type && mc1Submitted) {
        console.log('success');
        $('#mc-embedded-subscribe-form').hide();
        $("#mailchimp-success-message").toggleClass("show");
      }
    });
  </script>

  <!-- Slick sliders-->

  <script>
    $('.front-slider').slick({
      infinite: true,
      speed: 800,
      fade: true,
      cssEase: 'linear',
      autoplay: true,
      autoplaySpeed: 9000,
      pauseOnFocus: false,
      pauseOnHover: false,
      arrows: true,
      dots: true,
    });

  </script>

  <!-- Eventbrite overwrites-->

  <script>
    if ($('js-ticket-widget-ticket-price').html('Free')) {
      $('.js-ticket-widget-ticket-price').html("Gratis");
    }

  </script>


  <script>
    $('.contact-link').on('click', function () {
      window.history.pushState('obj', 'newtitle', '/#contact');
    })
  </script>

  <!-- Makes the navbar-nav longer in order to accomidate for the search input field -->

  <script>
    $('#search-button').on('click', function () {
      $('.navbar-nav').addClass('navbar-nav-wider'),
        $('#search').addClass('show'),
        $('.search-cross').addClass('show'),
        $('#search-button').addClass('hide');
    });
    $('.search-cross').on('click', function () {
      $('.navbar-nav').removeClass('navbar-nav-wider'),
        $('#search').removeClass('show'),
        $('.search-cross').removeClass('show'),
        $('#search-button').removeClass('hide');
    });
  </script>

  <!-- Functionality for sharing articles on social media -->

  <script>
    $(".expandable-pane-image:odd").addClass("reverse-pane-img")
    $(".expandable-pane-text:odd").addClass("reverse-pane-text")
  </script>

  <!-- <script>
      $(".stories .story-row div:nth-child(1)").attr("class", "col-lg-12");
      $(".stories .story-row div:nth-child(5)").attr("class", "col-lg-12");
      $(".stories .story-row div:nth-child(1) a div div").attr("class", "large-article-text");
      $(".stories .story-row div:nth-child(5) a div div").attr("class", "large-article-text");
    </script> -->

  <script>
    $('.expandable .row').last().find('hr').css('display', 'none');
    $('.carousel-item').first().addClass('active');
    $('.carousel-indicators li').first().addClass('active');
  </script>

  <script>
    function filter(tag) {
      setActiveTag(tag);
      showContainer(tag);
      hideAll();
      btnAll();
    }

    function showallRow() {
      showAll();
    }

    if (window.location.hash) {
      var tag = window.location.hash.split('#')[1];
      filter(tag);
    }

    function setActiveTag(tag) {

      // loop through all items and remove active class

      var items = document.getElementsByClassName('blog-tag-item');
      for (var i = 0; i < items.length; i++) {
        items[i].setAttribute('class', 'blog-tag-item');
      }

      // set the selected tag's item to active

      var item = document.getElementById(tag + '-item');
      if (item) {
        item.setAttribute('class', 'blog-tag-item active');
      }
    }

    function showContainer(tag) {

      // loop through all lists and hide them

      var lists = document.getElementsByClassName('blog-list-container');
      for (var i = 0; i < lists.length; i++) {
        lists[i].setAttribute('class', 'blog-list-container hidden row');
      }

      // remove the hidden class from the list corresponding to the selected tag

      var list = document.getElementById(tag + '-container');
      if (list) {
        list.setAttribute('class', 'blog-list-container row active-card');
      }
    }

    function hideAll() {
      var all_h = document.getElementById('row_all')
      all_h.setAttribute('class', 'hidden');
    }

    function btnAll() {
      var all_btn = document.getElementById('showAllBtn')
      all_btn.setAttribute('class', ' tags');
    }

    function showAll() {
      var show_all = document.getElementById('row_all')
      show_all.setAttribute('class', 'row');

      var all_btn = document.getElementById('showAllBtn')
      all_btn.setAttribute('class', ' tags');
    }



    // Toggle between arrows in factabox

    $(".date-links").on("click", function () {
      console.log("Yeesss");
      var $this = $(this);
      if ($this.find(".fas").hasClass('fa-caret-down')) {
        $this.find(".fas").addClass("fa-caret-up").removeClass("fa-caret-down");
        $this.next(".collapse-dates").addClass("show-dates");
        console.log("Yeesss");
      } else {
        $this.find(".fas").addClass("fa-caret-down").removeClass("fa-caret-up");
        $this.next(".collapse-dates").removeClass("show-dates");
      }
    });
  </script>

  <script>
    $(".show-more a").on("click", function () {
      var $this = $(this);
      var $content = $this.parent().prev("div.story-row");
      var linkText = $this.text().toUpperCase();

      if (linkText === "VIS MERE") {
        linkText = "Vis mindre";
        $content.switchClass("hideContent", "showContent", 400);
      } else {
        linkText = "Vis mere";
        $content.switchClass("showContent", "hideContent", 400);
      };

      $this.text(linkText);
    });


    $('.modul-collapse').on('shown.bs.modul-collapse', function (e) {
      var $panel = $(this).closest('.panel');
      $('html,body').animate({
        scrollTop: $panel.offset().top
      }, 1);
    });



  </script>
  <script>
    $('.year-one-link').on('click', function (e) {
      $('.tab-2').addClass('active show');
      $('#nav-2-tab').addClass('active show');
      $('#nav-7').removeClass('show');
      $('#nav-7').removeClass('active');
      $('#nav-7-tab').removeClass('active');
      $('#nav-7-tab').removeClass('show');
      $('.year-one-collapse').addClass('show');
      $('#collapseB').removeClass('show');

      var $panel = $('.year-one-collapse').closest('.panel');
      $('html,body').animate({
        scrollTop: $panel.offset().top
      }, 1);
    });
  </script>

  <script>
    $('.info-event-link').on('click', function (e) {
      $('#nav-10').addClass('active show');
      $('#nav-10-tab').addClass('active show');
      $('#nav-7').removeClass('show');
      $('#nav-7').removeClass('active');
      $('#nav-7-tab').removeClass('active');
      $('#nav-7-tab').removeClass('show');
      $('#collapseN').removeClass('show');
      $('html,body').animate({
        scrollTop: $('#max').offset().top
      }, 1);
    });

    
  </script>

  <script>
  
  </script>


  <script>
    window.onload = function () {
      const queryString = window.location.search;
      const urlParams = new URLSearchParams(queryString);
      const mes = urlParams.get('message')
      if (mes == 'besked') {
        $('#thanks-modal').modal('show')
        $('.thanks-mes-title').html('Tak for din besked')
        $('.thanks-mes-body').html('Du høre fra os snarrest')
      }
      if (mes == 'anmodning') {
        $('#thanks-modal').modal('show')
        $('.thanks-mes-title').html('Tak for din andmodning')
        $('.thanks-mes-body').html('Du høre fra os snarrest')
      }
      if (mes == 'reg') {
        $('#thanks-modal').modal('show')
        $('.thanks-mes-title').html('Tak for din tilmelding')
        $('.thanks-mes-body').html('Du høre fra os snarrest')
      }
      if (mes == 'community') {
        $('#thanks-modal').modal('show')
        $('.thanks-mes-title').html('Tak for din tilmelding til CCC Community')
        $('.thanks-mes-body').html('Du vil nu modtage en velkomstmail med din rabat kode. Husk at kigge i din spam indboks, hvis du ikke har modtaget velkomstmailen.')
      }
      if (mes == 'infomode') {
        $('#nav-10').addClass('active show');
      $('#nav-10-tab').addClass('active show');
      $('#nav-1').removeClass('show');
      $('#nav-1').removeClass('active');
      $('#nav-1-tab').removeClass('active');
      $('#nav-1-tab').removeClass('show');
      $('html,body').animate({
        scrollTop: $('#max').offset().top
      }, 1);
      }
    }
// shirt
  </script>

<script>
  // Stripe
  $(document).ready(function () {
    // Stripe settings
    var stripe = Stripe("pk_test_51HNEkULP16G7K8GRRqlPUImuItaviXYM3hg54DuGRuAihfSAYNMjHCfuI4pWOQO3VZKCblFmzRjjKM1vcGZqhA2000CBtc7Pmm");
    var elements = stripe.elements();
    var style = {
      base: {
        color: "#32325d",
      },
    };
    var card = elements.create("card", {
      style: style,
    });
  
    card.mount("#card-element");
    card.on("change", ({ error }) => {
      const displayError = document.getElementById("card-errors");
      if (error) {
        displayError.textContent = error.message;
      } else {
        displayError.textContent = "";
      }
    });
    // end stripe
  
    var form = document.getElementById("payment-form");
    form.addEventListener("submit", function (ev) {
      event.preventDefault();
  
      stripe
        .createPaymentMethod({
          type: "card",
          card: card,
          billing_details: {
            // Include any additional collected billing details.
            name: document.getElementById("f-name").value + document.getElementById("l-name").value,
            email: document.getElementById("input-email").value,
          },
        })
        .then(stripePaymentMethodHandler);
    });
  
    function stripePaymentMethodHandler(result) {
      if (result.error) {
        console.log("Error creating payment method");
      } else {
        // First submission attempt
        fetch("https://formspree.io/f/mbjqjpva", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            _payment_method: result.paymentMethod.id,
            email: document.getElementById("input-email").value,
            _fname: document.getElementById("f-name").value,
            _lname: document.getElementById("l-name").value,
            company: document.getElementById("company").value,
            phone: document.getElementById("phone").value,
            comments: document.getElementById("comments").value,
            _optin: document.getElementById("optin").value,
          }),
        }).then(function (response) {
          // Handle server response (see Step 4)
          response.json().then(function (json) {
            handleServerResponse(json);
          });
        });
      }
    }
  
    function handleServerResponse(response) {
      if (response.data && response.data.requires_action) {
        // Stripe require additional actions to charge this card
        // Use Stripe.js to handle required card action and open 3DS
        stripe
          .handleCardAction(response.data.payment_intent_client_secret)
          .then(function (stripeResult) {
            // Get handleCardAction response and resubmit
            resubmitForm(stripeResult, response.resubmit_key);
          });
      } else if (response.error) {
        // Show error from server on payment form
        console.log(response.error);
      } else {
        console.log("Payment finished successfully");
        $('.community-pay-form').hide();
        $("#stripe-success-message").toggleClass("show");

      }
    }
  
    function resubmitForm(result, resubmit_key) {
      console.log("handle Stripe SCA result");
      if (result.error) {
        // Display error in the payment form
        console.log("Stripe SCA error");
      } else {
        // The card action has been handled
        // The PaymentIntent can be confirmed again on the server
        fetch("https://formspree.io/f/mbjqjpva", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            _payment_intent: result.paymentIntent.id,
            _resubmit_key: resubmit_key,
            email: document.getElementById("input-email").value,
          }),
        })
          .then(function (confirmResult) {
            return confirmResult.json();
          })
          .then(handleServerResponse);
      }
    }
  }); 
</script>

<script src="/dist/vidbg.js"></script>

<script>
  var instance = new vidbg(
  ".vidbg-box",
  {
    mp4: "/videos/noeddesbo-ccc.mp4", // URL or relative path to MP4 video
    poster: "/images/graphic/jesper-noddesbo-fallback.png", // URL or relative path to fallback image
    overlay: false, // Boolean to display the overlay or not
    overlayColor: "#000", // The overlay color as a HEX
    overlayAlpha: 0.3, // The overlay alpha. Think of this as the last integer in RGBA()
  },
  {
    
  autoplay: false,
  controls: true,
  loop: false,
  muted: false,
  playsInline: true,

  }
);
</script>
</body>

</html>